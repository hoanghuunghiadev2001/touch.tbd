generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// ğŸ§© Model Employee - Dá»¯ liá»‡u nhÃ¢n viÃªn
model Employee {
  id   String @id @default(uuid()) // ID nhÃ¢n viÃªn (UUID)
  name String @unique // Há» vÃ  tÃªn nhÃ¢n viÃªn (CVDV) - KHÃ”NG ÄÆ¯á»¢C TRÃ™NG

  // Quan há»‡: 1 nhÃ¢n viÃªn cÃ³ nhiá»u chá»‰ tiÃªu vÃ  nhiá»u káº¿t quáº£ thá»±c táº¿
  targets Target[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// ğŸ§© Model Target - Chá»‰ tiÃªu nhÃ¢n viÃªn theo thÃ¡ng + nÄƒm
model Target {
  id         String   @id @default(uuid()) // ID chá»‰ tiÃªu (UUID)
  employeeId String // LiÃªn káº¿t nhÃ¢n viÃªn
  employee   Employee @relation(fields: [employeeId], references: [id])

  month Int // ThÃ¡ng (1-12)
  year  Int // NÄƒm (vd: 2024)

  tripTarget  Int // Chá»‰ tiÃªu lÆ°á»£t xe
  actualTrips Int @default(0) // Sá»‘ lÆ°á»£t xe thá»±c táº¿ 

  revenueTarget String // Chá»‰ tiÃªu doanh thu
  actualRevenue String @default("0") // Doanh thu thá»±c táº¿

  createdAt DateTime @default(now()) // Thá»i gian táº¡o
  updatedAt DateTime @updatedAt // Thá»i gian cáº­p nháº­t

  @@unique([employeeId, month, year]) // 1 nhÃ¢n viÃªn chá»‰ cÃ³ 1 chá»‰ tiÃªu / thÃ¡ng / nÄƒm
}
